Transform Nested Data into Top-Level Data

Helping Klaviyo Users Unlock Better Segmentation & Automation


ğŸš€ What Problem Does This Solve?:


Klaviyo (and many segmentation tools) struggle with nested data because they only support top-level attributes.
Previously, Klaviyo users had no direct solutionâ€”forcing them to hire developers or rely on third-party partners.
This solution provides a clear example of how to transform nested data, making it usable within Klaviyo without extensive development work.



ğŸ¯ Who Is This For?:



âœ… Klaviyo customers who need advanced segmentation but struggle with complex data formats.

âœ… Marketing teams looking to use detailed order, customer, or event data in flows.

âœ… Developers who want an easy-to-follow API and webhook solution.



ğŸ”‘ What This Solution Enables:



âœ¨ Seamless Segmentation: Convert nested data into top-level attributes that Klaviyo can read.

âœ¨ Automation with Webhooks: Process event data in real-time and send clean data back.

âœ¨ More Powerful Targeting: Use previously inaccessible order details, customer preferences, or event properties.



ğŸ›  How It Works (Simplified Flow):



1ï¸âƒ£ Klaviyo Event Triggered
â†’ A customer places an order (or another event occurs).

2ï¸âƒ£ Webhook Sends Data to Napkin.io
â†’ The raw, nested data is sent for processing.

3ï¸âƒ£ Data is Transformed (Flattened)
â†’ The script extracts key details and restructures them.

4ï¸âƒ£ Transformed Data is Sent Back to Klaviyo
â†’ Now, it's usable for segmentation, triggers, or conditional splits.


ğŸ” Key Features:



âœ… API & Webhook Integration â€“ Automate data flow between Klaviyo and Napkin.io.

âœ… Data Transformation â€“ Flatten complex structures to unlock new segmentation options.

âœ… Timestamping & Error Handling â€“ Ensure clean, reliable event data.

âœ… No Need for Custom Dev Work â€“ Provides an out-of-the-box example to get started.


ğŸ“Œ Easy Setup:



1ï¸âƒ£ In Klaviyo:
Generate an API Key.
Set up a Metric with nested data (e.g., â€œPlaced Orderâ€ event).
Configure a webhook to send data.

2ï¸âƒ£ In Napkin.io:
Sign up & create a function.
Copy your webhook destination URL.
Enable API authentication & paste your Klaviyo webhook data.

3ï¸âƒ£ Set Up Webhook Flow:
Create a new flow in Klaviyo.
Add a "Metric Trigger" (e.g., Placed Order).
Attach a "Webhook" action using the Napkin.io URL.


ğŸ’¡ Why This Matters for Klaviyo Users:



Before:

âŒ Nested data was difficult to use.

âŒ Segmentation was limited.

âŒ No official solutionâ€”users had to hire developers or external agencies.


Now:

âœ… Klaviyo users finally have an actionable example.

âœ… Segmentation & automation become more powerful.

âœ… No need for external development resources.
